@model IEnumerable<Reply>



<!--Navbar-->
<nav class="navbar navbar-expand-lg">
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto text-center">
            <li class="nav-item">
                <a class="nav-link text-danger mx-2">[</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-danger mx-2" href="#"> @Html.ActionLink("ABC", "Thread", "Home", new {boardId = 1}) </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-danger mx-2" href="#"> @Html.ActionLink("XYZ", "Thread", "Home", new {boardId = 2}) </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-danger mx-2">]</a>
            </li>
        </ul>
    </div>
</nav>



<div class="container mt-3">
    <h2>Replies</h2>
    <div class="list-group">
        @foreach (var reply in Model)
        {
            <div class="list-group-item">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">@reply.Content</h5>
                    <small>@reply.ReplyDate.ToString("yyyy-MM-dd HH:mm:ss")</small>
                </div>
                <p class="mb-1">User: @reply.UserId</p>
                <p class="mb-1">Reply User: @reply.ReplyUserId</p>
                <p class="mb-1">Content:</p>
                <p class="mb-1">@reply.Content</p>

                <button class="btn btn-primary" id="showFormBtn">
                    Odpowiedz
                </button>

                <form id="form_add" method="post" enctype="multipart/form-data" asp-action="CreateReply" asp-controller="Home">

                    <div class="form-group">
                        <label for="Content">Content:</label>
                        <textarea name="Content" class="form-control" placeholder="Content" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="Image">Image:</label>
                        <input type="file" name="Image" class="form-control" />
                    </div>

                    <input name="ReplyUserId" type="hidden" value="@reply.UserId">

                    <input name="SubjectId" type="hidden" value="@reply.SubjectId">

                    <button type="submit" class="btn btn-primary">Reply</button>
                </form>


            </div>
        }
    </div>
</div>





<!--Skrypt-->
@section scripts{
    <script>
        document.getElementById('showFormBtn').addEventListener('click', function () {
            // Ustaw widoczność formularza na "block"
            var form = document.getElementById('form_add');
            if (form) {
                form.style.display = 'block';
            }
        });
    </script>
}